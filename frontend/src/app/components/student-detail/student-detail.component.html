<div class="container">
  <div *ngIf="isLoadingStudent; else content" class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>

  <ng-template #content>
    <ng-container *ngIf="student">
      <div class="student-header">
        <h1>{{ student.firstName }} {{ student.lastName }}</h1>
        <p>{{ student.email }}</p>
      </div>

      <div class="enrollment-grid">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Enrolled Courses ({{ enrolledCourses.length }})</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list role="list">
              <mat-list-item *ngFor="let course of enrolledCourses">
                <div matListItemTitle>{{ course.name }}</div>
                <button mat-icon-button color="warn" aria-label="Unenroll from course">
                  <mat-icon>remove_circle</mat-icon>
                </button>
              </mat-list-item>
            </mat-list>
          </mat-card-content>
        </mat-card>

        <mat-card>
          <mat-card-header>
            <mat-card-title>Available Courses</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div *ngIf="isLoadingCourses; else courseList" class="card-spinner-container">
              <mat-spinner diameter="50"></mat-spinner>
            </div>
            <ng-template #courseList>
              <mat-list role="list">
                <mat-list-item *ngFor="let course of availableCourses">
                  <div matListItemTitle>{{ course.name }}</div>
                  <button mat-icon-button color="primary" aria-label="Enroll in course">
                    <mat-icon>add_circle</mat-icon>
                  </button>
                </mat-list-item>
              </mat-list>
            </ng-template>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>
  </ng-template>
</div>
